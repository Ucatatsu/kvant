<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ö–≤–∞–Ω—Ç</title>
  <link rel="icon" href="icon.png" type="image/png">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- –≠–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞ -->
  <div id="login-screen" class="screen">
    <div class="auth-container">
      <img src="icon.png" alt="–ö–≤–∞–Ω—Ç" class="logo-img">
      <h1>–ö–≤–∞–Ω—Ç</h1>
      <form id="login-form">
        <input type="text" id="login-username" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" required>
        <input type="password" id="login-password" placeholder="–ü–∞—Ä–æ–ª—å" required>
        <button type="submit" class="btn-primary">–í–æ–π—Ç–∏</button>
        <button type="button" id="to-register-btn" class="btn-secondary">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
      </form>
      <p id="login-error" class="error"></p>
    </div>
  </div>

  <!-- –≠–∫—Ä–∞–Ω —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
  <div id="register-screen" class="screen hidden">
    <div class="auth-container">
      <img src="icon.png" alt="–ö–≤–∞–Ω—Ç" class="logo-img">
      <h1>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h1>
      <form id="register-form">
        <input type="text" id="reg-username" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" required>
        <input type="password" id="reg-password" placeholder="–ü–∞—Ä–æ–ª—å" required>
        <input type="password" id="reg-password-confirm" placeholder="–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required>
        <button type="submit" class="btn-primary">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
        <button type="button" id="to-login-btn" class="btn-secondary">–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç</button>
      </form>
      <p id="register-error" class="error"></p>
    </div>
  </div>

  <!-- –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω —á–∞—Ç–∞ -->
  <div id="chat-screen" class="screen hidden">
    <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <img src="icon.png" alt="–ö–≤–∞–Ω—Ç" class="logo-mini-img">
      </div>
      <div class="chats-header">
        <input type="text" class="search-input" placeholder="üîç –ü–æ–∏—Å–∫">
      </div>
      <div class="users-list" id="users-list"></div>
      <div class="sidebar-footer">
        <div class="current-user-avatar" id="current-user-avatar"></div>
        <div class="current-user-details">
          <span class="current-user"></span>
          <span class="current-user-status">–í —Å–µ—Ç–∏</span>
        </div>
        <button id="settings-btn" class="icon-btn" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">‚öôÔ∏è</button>
      </div>
    </aside>
    
    <!-- –û–±–ª–∞—Å—Ç—å —á–∞—Ç–∞ - —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞–ø—Ä—è–º—É—é –≤ grid -->
    <div class="chat-header" id="chat-header">
      <button class="back-btn" id="back-btn">‚Üê</button>
      <div class="chat-user-info" id="chat-user-info-btn">
        <span class="chat-user-name">–í—ã–±–µ—Ä–∏—Ç–µ —á–∞—Ç</span>
        <span class="chat-user-status"></span>
      </div>
      <div class="chat-actions">
        <button class="action-btn" title="–ê—É–¥–∏–æ–∑–≤–æ–Ω–æ–∫">üìû</button>
        <button class="action-btn" title="–í–∏–¥–µ–æ–∑–≤–æ–Ω–æ–∫">üìπ</button>
      </div>
    </div>
    <div class="messages" id="messages"></div>
    <form class="message-form" id="message-form">
      <input type="text" id="message-input" placeholder="–°–æ–æ–±—â–µ–Ω–∏–µ..." autocomplete="off" disabled>
      <button type="button" class="emoji-btn">üòä</button>
      <button type="submit" class="send-btn" disabled>‚û§</button>
    </form>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–≤–æ–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è -->
  <div id="profile-modal" class="modal hidden">
    <div class="modal-overlay"></div>
    <div class="modal-content profile-modal-content">
      <div class="profile-banner" id="profile-banner"></div>
      <div class="profile-avatar-wrapper">
        <div class="profile-avatar-large" id="profile-avatar"></div>
      </div>
      <button class="modal-close" id="close-profile">&times;</button>
      <div class="profile-body">
        <div class="profile-name" id="profile-name"></div>
        <div class="profile-username" id="profile-username"></div>
        <div class="profile-bio" id="profile-bio"></div>
        <div class="profile-info">
          <div class="profile-info-item" id="profile-phone-item">
            <span class="info-icon">üì±</span>
            <span id="profile-phone">–ù–µ —É–∫–∞–∑–∞–Ω</span>
          </div>
        </div>
        <div class="profile-actions">
          <button class="btn-primary" id="edit-profile-btn">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
        </div>
      </div>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è -->
  <div id="edit-profile-modal" class="modal hidden">
    <div class="modal-overlay"></div>
    <div class="modal-content">
      <div class="modal-header">
        <h2>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</h2>
        <button class="modal-close" id="close-edit-profile">&times;</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label>–ò–º—è</label>
          <input type="text" id="edit-display-name" placeholder="–í–∞—à–µ –∏–º—è">
        </div>
        <div class="form-group">
          <label>–¢–µ–ª–µ—Ñ–æ–Ω</label>
          <input type="tel" id="edit-phone" placeholder="+7 999 123 45 67">
        </div>
        <div class="form-group">
          <label>–û —Å–µ–±–µ</label>
          <textarea id="edit-bio" placeholder="–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ —Å–µ–±–µ..." rows="3"></textarea>
        </div>
        <div class="form-group">
          <label>–¶–≤–µ—Ç –∞–≤–∞—Ç–∞—Ä–∫–∏</label>
          <input type="color" id="edit-avatar-color" value="#4fc3f7">
        </div>
        <div class="form-group">
          <label>–¶–≤–µ—Ç –±–∞–Ω–Ω–µ—Ä–∞</label>
          <input type="color" id="edit-banner-color" value="#1976d2">
        </div>
        <button class="btn-primary" id="save-profile-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      </div>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
  <div id="settings-modal" class="modal hidden">
    <div class="modal-overlay"></div>
    <div class="modal-content">
      <div class="modal-header">
        <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
        <button class="modal-close" id="close-settings">&times;</button>
      </div>
      <div class="modal-body settings-body">
        <div class="settings-item" id="notifications-toggle">
          <span>üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</span>
          <input type="checkbox" id="notifications-checkbox" checked>
        </div>
        <div class="settings-item" id="sounds-toggle">
          <span>üîä –ó–≤—É–∫–∏</span>
          <input type="checkbox" id="sounds-checkbox" checked>
        </div>
        <div class="settings-divider"></div>
        <button class="btn-danger" id="logout-btn">–í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞</button>
      </div>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–æ—Ñ–∏–ª—è —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞ -->
  <div id="user-profile-modal" class="modal hidden">
    <div class="modal-overlay"></div>
    <div class="modal-content profile-modal-content">
      <div class="profile-banner" id="user-profile-banner"></div>
      <div class="profile-avatar-wrapper">
        <div class="profile-avatar-large" id="user-profile-avatar"></div>
      </div>
      <button class="modal-close" id="close-user-profile">&times;</button>
      <div class="profile-body">
        <div class="profile-name" id="user-profile-name"></div>
        <div class="profile-username" id="user-profile-username"></div>
        <div class="profile-bio" id="user-profile-bio"></div>
        <div class="profile-info">
          <div class="profile-info-item">
            <span class="info-icon">üì±</span>
            <span id="user-profile-phone">–ù–µ —É–∫–∞–∑–∞–Ω</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Emoji Picker -->
  <div id="emoji-picker" class="emoji-picker hidden">
    <div class="emoji-grid"></div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="app.js"></script>
</body>
</html>
